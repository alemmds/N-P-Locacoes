<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Cadastro</title>
    <link rel="stylesheet" href="styles.css"> <!-- Referência ao CSS externo -->
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <img src="logo.png" alt="Logomarca" class="logo"> <!-- Substitua pelo caminho correto da sua logomarca -->
            <h2>Menu</h2>
            <ul>
                <li><button onclick="showSection('maquinasSection')">Máquinas</button></li>
                <li><button onclick="showSection('contasSection')">Contas</button></li>
                <li><button onclick="showSection('recebimentosSection')">Recebimentos</button></li>
                <li><button onclick="showSection('contratosSection')">Contratos</button></li>
                <li><button onclick="showSection('empresasSection')">Empresas</button></li>
            </ul>
        </div>

        <!-- Conteúdo Principal -->
        <div class="content">
            <h1>Sistema de Cadastro</h1>

            <!-- Seção de Máquinas -->
            <section id="maquinasSection" class="section">
                <h2>Cadastro de Máquinas</h2>
                <form id="formMaquina" onsubmit="handleFormSubmit(event, 'maquinasList')">
                    <label>Nome da Máquina:</label><input type="text" id="nomeMaquina" required><br>
                    <label>Série:</label><input type="text" id="serieMaquina" required><br>
                    <label>Anos de Uso:</label><input type="number" id="anosUsoMaquina" required><br>
                    <label>Horímetro:</label><input type="date" id="horimetroMaquina" required><br>
                    <label>Última Manutenção:</label><input type="date" id="ultimaManutencaoMaquina" required><br>
                    <label>Data de Entrada:</label><input type="date" id="dataEntradaMaquina" required><br>
                    <div class="buttons">
                        <button type="submit">Confirmar</button>
                        <button type="button" onclick="showList('maquinas')">Listar</button>
                        <button type="button" onclick="goBack('maquinasSection')">Voltar</button>
                    </div>
                </form>

                <!-- Lista de Máquinas -->
                <div id="maquinasList"></div>
            </section>

            <!-- Seção de Contas -->
            <section id="contasSection" class="section">
                <h2>Cadastro de Contas</h2>
                <form id="formConta" onsubmit="handleFormSubmit(event, 'contasList')">
                    <label>Tipo:</label><input type="text" id="tipoConta" required><br>
                    <label>Data de Vencimento:</label><input type="date" id="dataVencimentoConta" required><br>
                    <label>Valor:</label><input type="number" id="valorConta" required><br>
                    <div class="buttons">
                        <button type="submit">Confirmar</button>
                        <button type="button" onclick="showList('contas')">Listar</button>
                        <button type="button" onclick="goBack('contasSection')">Voltar</button>
                    </div>
                </form>

                <!-- Lista de Contas -->
                <div id="contasList"></div>
            </section>

            <!-- Seção de Recebimentos -->
            <section id="recebimentosSection" class="section">
                <h2>Cadastro de Recebimentos</h2>
                <form id="formRecebimento" onsubmit="handleFormSubmit(event, 'recebimentosList')">
                    <label>Origem:</label><input type="text" id="origemRecebimento" required><br>
                    <label>Data:</label><input type="date" id="dataRecebimento" required><br>
                    <label>Valor:</label><input type="number" id="valorRecebimento" required><br>
                    <div class="buttons">
                        <button type="submit">Confirmar</button>
                        <button type="button" onclick="showList('recebimentos')">Listar</button>
                        <button type="button" onclick="goBack('recebimentosSection')">Voltar</button>
                    </div>
                </form>

                <!-- Lista de Recebimentos -->
                <div id="recebimentosList"></div>
            </section>

            <!-- Seção de Contratos -->
            <section id="contratosSection" class="section">
                <h2>Cadastro de Contratos</h2>
                <form id="formContrato" onsubmit="handleFormSubmit(event, 'contratosList')">
                    <label>Empresa:</label><input type="text" id="empresaContrato" required><br>
                    <label>Locatário:</label><input type="text" id="locatarioContrato" required><br>
                    <label>CNPJ:</label><input type="text" id="cnpjContrato" required><br>
                    <label>Representante:</label><input type="text" id="representanteContrato" required><br>
                    <label>Período:</label><input type="text" id="periodoContrato" required><br>
                    <label>Valor:</label><input type="number" id="valorContrato" required><br>
                    <label>Data de Término:</label><input type="date" id="dataTerminoContrato" required><br>
                    <label>Equipamento:</label><input type="text" id="equipamentoContrato" required><br>
                    <div class="buttons">
                        <button type="submit">Confirmar</button>
                        <button type="button" onclick="showList('contratos')">Listar</button>
                        <button type="button" onclick="goBack('contratosSection')">Voltar</button>
                    </div>
                </form>

                <!-- Lista de Contratos -->
                <div id="contratosList"></div>
            </section>

            <!-- Seção de Empresas -->
            <section id="empresasSection" class="section">
                <h2>Cadastro de Empresas</h2>
                <form id="formEmpresa" onsubmit="handleFormSubmit(event, 'empresasList')">
                    <label>Nome da Empresa:</label><input type="text" id="nomeEmpresa" required><br>
                    <label>CNPJ:</label><input type="text" id="cnpjEmpresa" required><br>
                    <label>Endereço:</label><input type="text" id="enderecoEmpresa" required><br>
                    <div class="buttons">
                        <button type="submit">Confirmar</button>
                        <button type="button" onclick="showList('empresas')">Listar</button>
                        <button type="button" onclick="goBack('empresasSection')">Voltar</button>
                    </div>
                </form>

                <!-- Lista de Empresas -->
                <div id="empresasList"></div>
            </section>
        </div>
    </div>

    <script>
        function showSection(sectionId) {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.style.display = 'none');
            document.getElementById(sectionId).style.display = 'block';
        }

        function handleFormSubmit(event, listId) {
            event.preventDefault(); // Impede o envio padrão do formulário

            const formData = new FormData(event.target);
            const machineDetails = {};

            formData.forEach((value, key) => {
                machineDetails[key] = value;
            });

            const listContainer = document.getElementById(listId);
            const itemButton = document.createElement('button');
            itemButton.className = 'maximize-button';
            itemButton.onclick = () => toggleDetails(`${listId}Details${Date.now()}`);
            itemButton.textContent = `Máquina: ${machineDetails.nomeMaquina}`;

            const detailsDiv = document.createElement('div');
            detailsDiv.className = 'info-container';
            detailsDiv.id = `${listId}Details${Date.now()}`;
            detailsDiv.style.display = 'none';

            let detailsContent = '';
            for (const key in machineDetails) {
                detailsContent += `<p><strong>${key.replace(/([A-Z])/g, ' $1') + ':'}</strong> ${machineDetails[key]}</p>`;
            }
            detailsDiv.innerHTML = `${detailsContent}<div class="buttons">
                                        <button class="alterar">Alterar</button>
                                        <button class="excluir">Excluir</button>
                                    </div>`;

            // Adiciona o botão e os detalhes à lista
            listContainer.appendChild(itemButton);
            listContainer.appendChild(detailsDiv);
        }

        // Função para alternar a exibição dos detalhes
        function toggleDetails(detailsId) {
            const details = document.getElementById(detailsId);
            details.style.display = details.style.display === 'none' ? 'block' : 'none';
        }

        function goBack(sectionId) {
            showSection(sectionId);
        }
    </script>
</body>
</html>