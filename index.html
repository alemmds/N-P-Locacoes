<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Cadastro</title>
    <style>
        /* Estilos básicos */
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; }
        .container { display: flex; }
        .menu { width: 200px; background-color: #333; color: #fff; padding: 20px; }
        .menu button { display: block; width: 100%; padding: 10px; margin-bottom: 10px; background-color: #444; color: #fff; border: none; cursor: pointer; }
        .menu button:hover { background-color: #555; }
        .content { flex-grow: 1; padding: 20px; }
        .section { display: none; }
        .section h2 { margin-top: 0; }
        .item { border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; }
        .item .header { cursor: pointer; background-color: #f4f4f4; padding: 10px; font-weight: bold; }
        .item.expanded .details { display: block; }
        .item .details { display: none; padding: 10px; }
        .buttons { margin-top: 10px; }
    </style>
</head>
<body>

    <div class="container">
        <div class="menu">
            <button onclick="showSection('maquinasSection')">Máquinas</button>
            <button onclick="showSection('contasSection')">Contas</button>
            <button onclick="showSection('recebimentosSection')">Recebimentos</button>
            <button onclick="showSection('contratosSection')">Contratos</button>
            <button onclick="showSection('empresasSection')">Empresas</button>
        </div>
        <div class="content">
            <!-- Seção de Máquinas -->
            <section id="maquinasSection" class="section" style="display:none;">
                <h2>Cadastro de Máquinas</h2>
                <form id="formMaquina" onsubmit="addOrUpdateItem(event, 'maquinasList', 'Maquina', ['Série', 'Anos de Uso', 'Horímetro', 'Última Manutenção', 'Data de Entrada'], 'maquinas')">
                    <label>Máquina:</label><input type="text" id="Maquina" required><br>
                    <label>Série:</label><input type="text" id="Série" required><br>
                    <label>Anos de Uso:</label><input type="number" id="Anos de Uso" required><br>
                    <label>Horímetro:</label><input type="number" id="Horímetro" required><br>
                    <label>Última Manutenção:</label><input type="date" id="Última Manutenção" required><br>
                    <label>Data de Entrada:</label><input type="date" id="Data de Entrada" required><br>
                    <div class="buttons">
                        <button type="submit">Confirmar</button>
                        <button type="button" class="clear-btn" onclick="clearForm('formMaquina')">Limpar</button>
                    </div>
                </form>

                <!-- Lista de Máquinas -->
                <div id="maquinasList"></div>
            </section>

            <!-- Seção de Contas -->
            <section id="contasSection" class="section" style="display:none;">
                <h2>Cadastro de Contas</h2>
                <form id="formConta" onsubmit="addOrUpdateItem(event, 'contasList', 'Nome da Conta', ['Tipo', 'Valor', 'Data de Vencimento'], 'contas')">
                    <label>Nome da Conta:</label><input type="text" id="Nome da Conta" required><br>
                    <label>Tipo:</label><input type="text" id="Tipo" required><br>
                    <label>Valor:</label><input type="number" id="Valor" required><br>
                    <label>Data de Vencimento:</label><input type="date" id="Data de Vencimento" required><br>
                    <div class="buttons">
                        <button type="submit">Confirmar</button>
                        <button type="button" class="clear-btn" onclick="clearForm('formConta')">Limpar</button>
                    </div>
                </form>

                <!-- Lista de Contas -->
                <div id="contasList"></div>
            </section>

            <!-- Seção de Recebimentos -->
            <section id="recebimentosSection" class="section" style="display:none;">
                <h2>Cadastro de Recebimentos</h2>
                <form id="formRecebimento" onsubmit="addOrUpdateItem(event, 'recebimentosList', 'Empresa', ['Valor', 'Data de Início', 'Data do Vencimento'], 'recebimentos')">
                    <label>Empresa:</label><input type="text" id="Empresa" required><br>
                    <label>Valor:</label><input type="number" id="Valor" required><br>
                    <label>Data de Início:</label><input type="date" id="Data de Início" required><br>
                    <label>Data do Vencimento:</label><input type="date" id="Data do Vencimento" required><br>
                    <div class="buttons">
                        <button type="submit">Confirmar</button>
                        <button type="button" class="clear-btn" onclick="clearForm('formRecebimento')">Limpar</button>
                    </div>
                </form>

                <!-- Lista de Recebimentos -->
                <div id="recebimentosList"></div>
            </section>

            <!-- Seção de Contratos -->
            <section id="contratosSection" class="section" style="display:none;">
                <h2>Cadastro de Contratos</h2>
                <form id="formContrato" onsubmit="addOrUpdateItem(event, 'contratosList', 'Empresa', ['Locatário', 'CNPJ', 'Representante', 'Período de Locação', 'Valor', 'Data de Início', 'Data de Término', 'Equipamento', 'Operador'], 'contratos')">
                    <label>Empresa:</label><input type="text" id="Empresa" required><br>
                    <label>Locatário:</label><input type="text" id="Locatário" required><br>
                    <label>CNPJ:</label><input type="text" id="CNPJ" required><br>
                    <label>Representante:</label><input type="text" id="Representante" required><br>
                    <label>Período de Locação:</label><input type="text" id="Período de Locação" required><br>
                    <label>Valor:</label><input type="number" id="Valor" required><br>
                    <label>Data de Início:</label><input type="date" id="Data de Início" required><br>
                    <label>Data de Término:</label><input type="date" id="Data de Término" required><br>
                    <label>Equipamento:</label><input type="text" id="Equipamento" required><br>
                    <label>Operador:</label><input type="text" id="Operador" required><br>
                    <div class="buttons">
                        <button type="submit">Confirmar</button>
                        <button type="button" class="clear-btn" onclick="clearForm('formContrato')">Limpar</button>
                    </div>
                </form>

                <!-- Lista de Contratos -->
                <div id="contratosList"></div>
            </section>

            <!-- Seção de Empresas -->
            <section id="empresasSection" class="section" style="display:none;">
                <h2>Cadastro de Empresas</h2>
                <form id="formEmpresa" onsubmit="addOrUpdateItem(event, 'empresasList', 'Nome da Empresa', ['CNPJ', 'Endereço', 'Telefone', 'Email'], 'empresas')">
                    <label>Nome da Empresa:</label><input type="text" id="Nome da Empresa" required><br>
                    <label>CNPJ:</label><input type="text" id="CNPJ" required><br>
                    <label>Endereço:</label><input type="text" id="Endereço" required><br>
                    <label>Telefone:</label><input type="tel" id="Telefone" required><br>
                    <label>Email:</label><input type="email" id="Email" required><br>
                    <div class="buttons">
                        <button type="submit">Confirmar</button>
                        <button type="button" class="clear-btn" onclick="clearForm('formEmpresa')">Limpar</button>
                    </div>
                </form>

                <!-- Lista de Empresas -->
                <div id="empresasList"></div>
            </section>
        </div>
    </div>

    <script>
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.style.display = section.id === sectionId ? 'block' : 'none';
            });
        }

        function addOrUpdateItem(event, listId, nameFieldId, otherFieldIds, key) {
            event.preventDefault();
            const name = document.getElementById(nameFieldId).value;
            const otherFields = otherFieldIds.map(field => document.getElementById(field).value);
            const newItem = { name, otherFields };
            
            // Armazenar no localStorage
            let storedItems = JSON.parse(localStorage.getItem(key)) || [];
            storedItems.push(newItem);
            localStorage.setItem(key, JSON.stringify(storedItems));
            
            // Renderizar a lista novamente
            renderItems(listId, storedItems, nameFieldId, otherFieldIds, key);
        }

        function renderItems(listId, items, nameField, otherFields, key) {
            const list = document.getElementById(listId);
            list.innerHTML = '';
            items.forEach((item, index) => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'item';
                itemDiv.innerHTML = `
                    <div class="header" onclick="toggleDetails(this)">
                        ${item.name}
                    </div>
                    <div class="details">
                        ${otherFields.map((field, i) => `<p>${field}: ${item.otherFields[i]}</p>`).join('')}
                        <button onclick="editItem(${index}, '${key}')">Editar</button>
                        <button onclick="deleteItem(${index}, '${key}', '${listId}')">Excluir</button>
                    </div>
                `;
                list.appendChild(itemDiv);
            });
        }

        function toggleDetails(headerElement) {
            const itemDiv = headerElement.parentElement;
            itemDiv.classList.toggle('expanded');
        }

        function clearForm(formId) {
            document.getElementById(formId).reset();
        }

        function editItem(index, key) {
            const storedItems = JSON.parse(localStorage.getItem(key));
            const item = storedItems[index];
            // Preencher o formulário com os dados para edição (implemente essa parte)
        }

        function deleteItem(index, key, listId) {
            let storedItems = JSON.parse(localStorage.getItem(key));
            storedItems.splice(index, 1);
            localStorage.setItem(key, JSON.stringify(storedItems));
            renderItems(listId, storedItems, key);
        }

        // Carregar itens do localStorage ao iniciar
        document.addEventListener('DOMContentLoaded', () => {
            ['maquinas', 'contas', 'recebimentos', 'contratos', 'empresas'].forEach(key => {
                const listId = key + 'List';
                const nameField = key === 'maquinas' ? 'nomeMaquina' :
                                 key === 'contas' ? 'nomeConta' :
                                 key === 'recebimentos' ? 'descricaoRecebimento' :
                                 key === 'contratos' ? 'nomeContrato' : 'nomeEmpresa';
                const otherFields = key === 'maquinas' ? ['serieMaquina', 'anosUsoMaquina', 'horimetroMaquina', 'ultimaManutencaoMaquina', 'dataEntradaMaquina'] :
                                  key === 'contas' ? ['tipoConta', 'saldoConta'] :
                                  key === 'recebimentos' ? ['valorRecebimento', 'dataRecebimento'] :
                                  key === 'contratos' ? ['locatarioContrato', 'cnpjContrato', 'representanteContrato', 'periodoContrato', 'valorContrato', 'dataTerminoContrato', 'equipamentoContrato'] :
                                  ['cnpjEmpresa', 'enderecoEmpresa'];

                const storedItems = JSON.parse(localStorage.getItem(key)) || [];
                renderItems(listId, storedItems, nameField, otherFields, key);
            });
        });
    </script>

</body>
</html>
