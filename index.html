<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Cadastro</title>
    <link rel="stylesheet" href="styles.css"> <!-- Referência ao CSS externo -->
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <img src="logo.png" alt="Logomarca" class="logo"> <!-- Substitua pelo caminho correto da sua logomarca -->
            <h2>Menu</h2>
            <ul>
                <li><button onclick="showSection('maquinasSection')">Máquinas</button></li>
                <li><button onclick="showSection('contasSection')">Contas</button></li>
                <li><button onclick="showSection('recebimentosSection')">Recebimentos</button></li>
                <li><button onclick="showSection('contratosSection')">Contratos</button></li>
                <li><button onclick="showSection('empresasSection')">Empresas</button></li>
            </ul>
        </div>

        <!-- Conteúdo Principal -->
        <div class="content">
            <h1>Sistema de Cadastro</h1>

            <!-- Seção de Máquinas -->
            <section id="maquinasSection" class="section">
                <h2>Cadastro de Máquinas</h2>
                <form id="formMaquina" onsubmit="handleFormSubmit(event, 'maquinas', ['nomeMaquina', 'tipoMaquina', 'valorMaquina'])">
                    <label>Nome da Máquina:</label><input type="text" id="nomeMaquina" required><br>
                    <label>Tipo:</label><input type="text" id="tipoMaquina" required><br>
                    <label>Valor:</label><input type="number" id="valorMaquina" required><br>
                    <div class="buttons">
                        <button type="submit">Confirmar</button>
                        <button type="button" onclick="showList('maquinas')">Listar</button>
                        <button type="button" onclick="goBack('maquinasSection')">Voltar</button>
                    </div>
                </form>

                <!-- Lista de Máquinas -->
                <div id="maquinasList"></div>
                <button class="maximize-button" onclick="toggleDetails('maquinaDetails1')">Máquina X</button>
        <div class="info-container" id="maquinaDetails1" style="display:none;">
            <p><strong>Nome:</strong> Máquina X</p>
            <p><strong>Série:</strong> 123456</p>
            <p><strong>Anos de Uso:</strong> 5</p>
            <p><strong>Horas Trabalhadas:</strong> 1000</p>
            <p><strong>Última Manutenção:</strong> 2023-01-15</p>
            <p><strong>Data de Entrada:</strong> 2021-03-01</p>
            <div class="buttons">
                <button class="alterar">Alterar</button>
                <button class="excluir">Excluir</button>
            </div>
        </div>
    </div>
            </section>

            <!-- Seção de Contas -->
            <section id="contasSection" class="section" style="display: none;">
                <h2>Cadastro de Contas</h2>
                <form id="formConta" onsubmit="handleFormSubmit(event, 'contas', ['tipoConta', 'dataVencimentoConta', 'valorConta'])">
                    <label>Tipo:</label><input type="text" id="tipoConta" required><br>
                    <label>Data de Vencimento:</label><input type="date" id="dataVencimentoConta" required><br>
                    <label>Valor:</label><input type="number" id="valorConta" required><br>
                    <div class="buttons">
                        <button type="submit">Confirmar</button>
                        <button type="button" onclick="showList('contas')">Listar</button>
                        <button type="button" onclick="goBack('contasSection')">Voltar</button>
                    </div>
                </form>

                <!-- Lista de Contas -->
                <div id="contasList"></div>
            </section>

            <!-- Seção de Recebimentos -->
            <section id="recebimentosSection" class="section" style="display: none;">
                <h2>Cadastro de Recebimentos</h2>
                <form id="formRecebimento" onsubmit="handleFormSubmit(event, 'recebimentos', ['origemRecebimento', 'dataRecebimento', 'valorRecebimento'])">
                    <label>Origem:</label><input type="text" id="origemRecebimento" required><br>
                    <label>Data:</label><input type="date" id="dataRecebimento" required><br>
                    <label>Valor:</label><input type="number" id="valorRecebimento" required><br>
                    <div class="buttons">
                        <button type="submit">Confirmar</button>
                        <button type="button" onclick="showList('recebimentos')">Listar</button>
                        <button type="button" onclick="goBack('recebimentosSection')">Voltar</button>
                    </div>
                </form>

                <!-- Lista de Recebimentos -->
                <div id="recebimentosList"></div>
            </section>

            <!-- Seção de Contratos -->
            <section id="contratosSection" class="section" style="display: none;">
                <h2>Cadastro de Contratos</h2>
                <form id="formContrato" onsubmit="handleFormSubmit(event, 'contratos', ['empresaContrato', 'locatarioContrato', 'cnpjContrato', 'representanteContrato', 'periodoContrato', 'valorContrato', 'dataTerminoContrato', 'equipamentoContrato'])">
                    <label>Empresa:</label><input type="text" id="empresaContrato" required><br>
                    <label>Locatário:</label><input type="text" id="locatarioContrato" required><br>
                    <label>CNPJ:</label><input type="text" id="cnpjContrato" required><br>
                    <label>Representante:</label><input type="text" id="representanteContrato" required><br>
                    <label>Período:</label><input type="text" id="periodoContrato" required><br>
                    <label>Valor:</label><input type="number" id="valorContrato" required><br>
                    <label>Data de Término:</label><input type="date" id="dataTerminoContrato" required><br>
                    <label>Equipamento:</label><input type="text" id="equipamentoContrato" required><br>
                    <div class="buttons">
                        <button type="submit">Confirmar</button>
                        <button type="button" onclick="showList('contratos')">Listar</button>
                        <button type="button" onclick="goBack('contratosSection')">Voltar</button>
                    </div>
                </form>

                <!-- Lista de Contratos -->
                <div id="contratosList"></div>
            </section>

            <!-- Seção de Empresas -->
            <section id="empresasSection" class="section" style="display: none;">
                <h2>Cadastro de Empresas</h2>
                <form id="formEmpresa" onsubmit="handleFormSubmit(event, 'empresas', ['nomeEmpresa', 'cnpjEmpresa', 'enderecoEmpresa'])">
                    <label>Nome da Empresa:</label><input type="text" id="nomeEmpresa" required><br>
                    <label>CNPJ:</label><input type="text" id="cnpjEmpresa" required><br>
                    <label>Endereço:</label><input type="text" id="enderecoEmpresa" required><br>
                    <div class="buttons">
                        <button type="submit">Confirmar</button>
                        <button type="button" onclick="showList('empresas')">Listar</button>
                        <button type="button" onclick="goBack('empresasSection')">Voltar</button>
                    </div>
                </form>

                <!-- Lista de Empresas -->
                <div id="empresasList"></div>
            </section>
        </div>
    </div>

    <script>
        // Função para exibir a seção correspondente
        function showSection(sectionId) {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.style.display = 'none';
            });
            document.getElementById(sectionId).style.display = 'block';
        }

        // Lógica para manipular o envio do formulário
        function handleFormSubmit(event, section, inputIds) {
            event.preventDefault(); // Impede o envio do formulário

            const inputValues = inputIds.map(id => document.getElementById(id).value); // Captura todos os valores dos campos

            // Cria um novo elemento de lista para a seção correspondente
            const listContainer = document.getElementById(section + 'List');
            const itemButton = document.createElement('button');
            itemButton.className = 'maximize-button';
            itemButton.onclick = () => toggleDetails(section + 'Details' + (listContainer.children.length + 1));
            itemButton.textContent = inputValues[0]; // Exibe o primeiro valor (ex: nome da máquina) como texto do botão

            const detailsDiv = document.createElement('div');
            detailsDiv.className = 'info-container';
            detailsDiv.id = section + 'Details' + (listContainer.children.length + 1);
            detailsDiv.style.display = 'none';

            // Monta os detalhes para exibição, incluindo todos os valores capturados
            let detailsContent = '';
            inputIds.forEach((id, index) => {
                const label = document.querySelector(`label[for=${id}]`) ? document.querySelector(`label[for=${id}]`).textContent : id;
                detailsContent += `<p><strong>${label}:</strong> ${inputValues[index]}</p>`;
            });
            detailsDiv.innerHTML = `${detailsContent}<div class="buttons">
                                        <button class="alterar">Alterar</button>
                                        <button class="excluir">Excluir</button>
                                    </div>`;

            // Adiciona o botão e os detalhes à lista
            listContainer.appendChild(itemButton);
            listContainer.appendChild(detailsDiv);
        }

        // Função para alternar a exibição dos detalhes
        function toggleDetails(detailsId) {
            const details = document.getElementById(detailsId);
            details.style.display = details.style.display === 'none' ? 'block' : 'none';
        }

        // Função para voltar à seção anterior
        function goBack(sectionId) {
            document.getElementById(sectionId).style.display = 'none'; // Esconde a seção atual
            showSection('maquinasSection'); // Pode mudar para a seção desejada ao voltar
        }
    </script>
</body>
</html>